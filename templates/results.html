<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>StreamScout Results</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; max-width: 1200px; margin: 40px auto; padding: 20px; background-color: #f7f7f7; }
        h1 { color: #2a6496; border-bottom: 2px solid #ddd; padding-bottom: 10px; }
        p { color: #555; }
        /* Summary Card Styling */
        .summary-card { display: flex; justify-content: space-around; margin-bottom: 30px; padding: 15px; background-color: white; border-radius: 8px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .summary-item { text-align: center; padding: 0 15px; }
        .summary-item h2 { margin: 0; font-size: 2em; }
        .summary-item p { margin: 0; font-weight: bold; }
        /* Table Styling */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        th, td { border: 1px solid #e0e0e0; padding: 12px; text-align: left; vertical-align: middle; font-size: 0.95em; }
        th { background-color: #e9e9e9; font-weight: 600; }
        /* Status Colors */
        .available { background-color: #d4edda; color: #155724; font-weight: bold; } /* Green: Free */
        .rent { background-color: #fff3cd; color: #856404; } /* Yellow: Rent/Buy */
        .released-unknown { background-color: #f8d7da; color: #721c24; } /* Red: Unknown/Not Streaming */
        .not-released { background-color: #e2e3e5; color: #383d41; } /* Grey: Unreleased */
        /* Button */
        .back-button { margin-top: 20px; display: inline-block; padding: 12px 25px; background-color: #007bff; color: white; text-decoration: none; border-radius: 6px; font-weight: 600; transition: background-color 0.3s; }
        .back-button:hover { background-color: #0056b3; }
    </style>
</head>
<body>
    <h1>ðŸŽ¬ StreamScout Results</h1>
    <p>Availability checked for <strong>{{ movies_count }}</strong> movies in region: <strong>{{ region }}</strong></p>

    {% if summary %}
    <div class="summary-card">
        <div class="summary-item available">
            <h2>{{ summary.available_free }}</h2>
            <p>Available FREE</p>
        </div>
        <div class="summary-item rent">
            <h2>{{ summary.rent_or_buy }}</h2>
            <p>Rent/Buy</p>
        </div>
        <div class="summary-item not-released">
            <h2>{{ summary.unreleased }}</h2>
            <p>Not Yet Released</p>
        </div>
        <div class="summary-item released-unknown">
            <h2>{{ summary.unknown }}</h2>
            <p>Availability Unknown</p>
        </div>
    </div>
    {% endif %}

    <table>
        <thead>
            <tr>
                <th>Title (Year)</th>
                <th>Status</th>
                <th>Details</th>
            </tr>
        </thead>
        <tbody>
            {% for movie in results %}
                <tr class="{{ movie.ui_class }}">
                    <td><strong>{{ movie.title }}</strong> ({{ movie.year }})</td>
                    <td>{{ movie.icon }} {{ movie.ui_class | replace('-', ' ') | title }}</td>
                    <td>{{ movie.status }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ url_for('index') }}" class="back-button">Check Another Watchlist</a>
</body>
</html>